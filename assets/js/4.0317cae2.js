(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{483:function(t,e,i){},502:function(t,e,i){"use strict";i.r(e);i(154),i(199),i(284),i(152),i(26),i(201);var n=i(270),a=i(142),h=(i(483),i(35)),s=null,o={name:"DbDygraphs",mixins:[a.a],props:{data:{type:Array,default:function(){return[]}},options:{type:Object}},data:function(){return{graph:null,needUpdate:!1,needOptionsUpdate:!1,optionsChanged:!1}},computed:{graphOptions:{get:function(){return Object.assign({},this.defaultOptions,this.options)},set:function(){}},defaultOptions:function(){return{colors:n.a.getColors(this.dark,this.colorScheme),animatedZooms:!0,labelsDiv:this.$refs.dbdylabels,legend:"follow",legendFormatter:this.legendFormatter,zoomCallback:this.handleZoom,clickCallback:this.handleClick,highlightCallback:this.handleHighlight,unhighlightCallback:this.handleUnHighlight,highlightSeriesBackgroundAlpha:this.dark?.4:.5,highlightSeriesBackgroundColor:this.dark?"rgb(0, 0, 0)":"rgb(255, 255, 255)",axisLineColor:this.dark?"rgba(255, 255, 255, 0.3)":"rgb(0, 0, 0, 0.3)"}},elementClass:function(){return this.dark?"db-dygraphs db-dark":"db-dygraphs"}},mounted:function(){var t=this;i.e(18).then(i.bind(null,499)).then((function(e){h.a.info("dygraphs: imported"),s=e.default,t.$nextTick((function(){t.render()}))}))},watch:{_updated:function(){h.a.info("_updated prop changed"),this.scheduleUpdate()},data:{handler:function(){h.a.info("data prop changed"),this.scheduleUpdate()},deep:!0},options:{handler:function(){this.optionsChanged=!0,this.scheduleUpdate()},deep:!0},dark:function(){this.optionsChanged=!0,this.scheduleUpdate()},colorScheme:function(){this.optionsChanged=!0,this.scheduleUpdate()}},methods:{render:function(){this.graph=new s(this.$refs.container,this.getData(),this.graphOptions)},getDygraphs:function(){return this.graph},getData:function(){if(!Array.isArray(this.data))return this.data;if(this.data.length<=0)return this.data;if(Array.isArray(this.data[0]))return this.data;var t=0;return this.data.map((function(e){return[t++,e]}))},scheduleUpdate:function(){var t=this;this.needUpdate=!0,this.$nextTick((function(){t.update()}))},update:function(){this.graph&&this.needUpdate&&(this.needUpdate=!1,h.a.info("DbDygraphs: updating ..."),this.optionsChanged?(this.optionsChanged=!1,this.graph.updateOptions(Object.assign({},this.graphOptions,{file:this.getData()}))):this.graph.updateOptions({file:this.getData()}))},legendFormatter:function(t){if(null==t.x)return""+t.series.map((function(t){return t.dashHTML+" "+t.labelHTML})).join(" ");var e=this.graph.getLabels()[0]+": "+t.xHTML;return t.series.forEach((function(t){if(t.isVisible){var i=t.labelHTML+": "+t.yHTML;t.isHighlighted&&(i="<b>"+i+"</b>"),e+="<br>"+t.dashHTML+" "+i}})),e},handleClick:function(t,e,i){h.a.debug("handleClick: x:".concat(e,", points:").concat(JSON.stringify(i))),this.$emit("db-event",{type:"click",x:e,points:i})},handleZoom:function(t,e,i){h.a.debug("handleZoom: minDate:"+t+", maxDate:"+e+", yRanges:"+i),this.$emit("db-event",{type:"zoom",minDate:Math.floor(t),maxDate:Math.floor(e),yRanges:i,g:this.graph})},handleDblclick:function(t,e,i){},handleHighlight:function(t,e,i,n,a){h.a.debug("handleHighlight: x:"+e+", points:"+i+", row:"+n+", seriesName: "+a),this.$emit("db-event",{type:"highlight",x:e,points:i,row:n,seriesName:a})},handleUnHighlight:function(t){h.a.debug("handleUnHighlight"),this.$emit("db-event",{type:"unhighlight"})}}},r=i(14),d=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"container",class:this.elementClass})}),[],!1,null,null,null);e.default=d.exports}}]);